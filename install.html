<!DOCTYPE html>
<html>
	<head>
		<title>ABXD installation</title>
		<link rel="stylesheet" href="css/common.css" type="text/css" />
		<link rel="stylesheet" href="themes/gold/style.css" type="text/css" />
		<script src="lib/jquery.js"></script>
		<script src="lib/installer.js"></script>
		<style>
			.page {
				padding: 4px;
			}
		</style>
	</head>
	<body style="max-width: 1024px; margin: 1em auto;">
		<img src="img/logo.png" alt="ABXD" style="margin: 2em auto; display: block;" />
		<table class="outline margin" id="installUI" style="display: none;">
			<tr class="cell0">
				<td style="max-height: 500px; height: 500px; vertical-align: top;" id="installPager">
					<div class="page" id="page1">
						<h3>Welcome to ABXD</h3>
						<p>
							<strong style="background: rgba(255, 0, 0, 0.25);">Please note that you are using a version of ABXD obtained from the Git repository.<br />
							This version of ABXD may have <em>serious vulnerabilites</em> and might <em>not work at all</em>.<br />
							We <em>won't</em> help you if your board breaks from using this version of ABXD.</strong>
							<hr />
						<p>
							Welcome to the installer for ABXD.
							We've done a few changes in 3.0 to make using ABXD even better, including:
							<ul>
								<li>Large codebase cleanups &mdash; the board should now work better than ever!</li>
								<li>A new, flexible permissions system that lets you define user groups or per-user permissions, such as forum access.</li>
								<li>Easier theme installation for administrators</li>
								<li>[ devs add stuff here ]</li>
							</ul>
						<p>
							Thanks for using ABXD!<br />
							- The ABXD developers
					</div>
					<div class="page" id="page2">
						<h3>
							SQL setup
						</h3>
						<p>Let's get going. Enter the SQL credentials for the SQL server you want to connect to and click "Check connection" to make sure it works.</p>
						<table style="width: 50%;" class="outline margin">
							<tr class="header1">
								<th colspan="2">
									SQL credentials
								</th>
							</tr>
							<tr class="cell0">
								<td>
									Server address
								</td>
								<td>
									<input type="text" name="sqlServerAddress" id="sqlServerAddress" value="localhost" />
								</td>
							</tr>
							<tr class="cell1">
								<td>
									Username
								</td>
								<td>
									<input type="text" name="sqlUserName" id="sqlUserName" value="abxd" />
								</td>
							</tr>
							<tr class="cell0">
								<td>
									Password
								</td>
								<td>
									<input type="password" name="sqlPassword" id="sqlPassword" value="" />
								</td>
							</tr>
							<tr class="cell1">
								<td>
									Database name
								</td>
								<td>
									<input type="text" name="sqlDbName" id="sqlDbName" value="abxd" />
								</td>
							</tr>
							<tr class="cell0">
								<td>
									Table prefix
								</td>
								<td>
									<input type="text" name="sqlTablePrefix" id="sqlTablePrefix" value="" />
								</td>
							</tr>
							<tr class="cell1">
								<td colspan="2" class="right">
									<button onclick="checkSqlConnection();">Check connection</button>
								</td>
							</tr>
						</table>
						<div id="sqlStatus" style="display: none;">
							[ SQL error/success is put here by JavaScript ]
						</div>
					</div>
					<div class="page" id="page3">
						<h3>Board settings</h3>
						<p>Here you can set some board settings for your board, like its name.<br />All this is optional, and if you want you can skip this step entirely</p>
						<div class="errorc" style="float: right; text-align: left; min-width: 500px;">
							<label><input type="checkbox" name="createDefaultForums" id="createDefaultForums" /> Create default forums</label><br />
							<label><input type="checkbox" name="setUpDefaultUserGroups" id="setUpDefaultUserGroups" checked="checked" /> Set up default user groups</label><br /><br />
							<strong>Use HTMLTidy</strong>
							<div style="margin-left: 12px;">
								<label title="Will check for and use HTML Tidy if available"><input type="radio" name="useHTMLTidy" value="checkSupport" checked="checked" /> Yes</label>
								<label><input type="radio" name="useHTMLTidy" value="no" /> No</label>
							</div>
						</div>
						<table style="width: 50%;" class="outline margin">
							<tr class="header1">
								<th colspan="2">
									Board settings
								</th>
							</tr>
							<tr class="cell0">
								<td>
									Board name
								</td>
								<td>
									<input type="text" name="boardName" id="boardName" value="AcmlmBoard XD" />
								</td>
							</tr>
							<tr class="cell1">
								<td>
									Board logo title
								</td>
								<td>
									<input type="text" name="boardLogoTitle" id="boardLogoTitle" value="Yet another ABXD!" />
								</td>
							</tr>
							<tr class="cell0">
								<td>
									Logo alt. text
								</td>
								<td>
									<input type="text" name="boardLogoAlt" id="boardLogoAlt" value="ABXD" />
								</td>
							</tr>
						</table>
					</div>
					<div class="page" id="page4">
						<h3>All is set</h3>
						<p>All required stuff is done and we're now ready to install ABXD. Click the "Install" button and it'll be done.<br />
						it'd be a good idea to double-check your settings and directory premissions though.</p>
						<div style="padding-top: 100px;" class="center">
							<button style="font-size: 36pt;" id="installButton">Install</button>
						</div>
					</div>
				</td>
			</tr>
			<tr class="cell0" id="installProgress">
				<td>
					<div class="pollbarContainer" style="width: 98%; margin: 4pt auto; display: block;">
						<div class="pollbar" id="progress" >
							[ Actual step number is put here by JS ]
						</div>
					</div>
				</td>
			</tr>
			<tr class="cell1">
				<td style="text-align: right;">
					<button disabled id="prevPageButton">&larr; Previous</button>
					<button id="nextPageButton">Next &rarr;</button>
				</td>
			</tr>
		</table>
	</body>
</html>
